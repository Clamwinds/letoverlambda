{"version":3,"sources":["regexpu"],"names":[],"mappings":"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","file":"regexpu-compiled.js","sourcesContent":["#!/usr/bin/env node\n(function() {\n\n\tvar fs = require('fs');\n\tvar jsesc = require('jsesc');\n\tvar regexpu = require('../regexpu.js');\n\tvar strings = process.argv.splice(2);\n\tvar option = strings.shift();\n\tvar stdin = process.stdin;\n\tvar isFile = false;\n\tvar data;\n\tvar timeout;\n\tvar options = {};\n\tvar log = console.log;\n\n\tvar main = function() {\n\n\t\tif (/^(?:-h|--help|undefined)$/.test(option)) {\n\t\t\tlog(\n\t\t\t\t'regexpu v%s - https://mths.be/regexpu',\n\t\t\t\tregexpu.version\n\t\t\t);\n\t\t\tlog([\n\t\t\t\t'\\nUsage:\\n',\n\t\t\t\t'\\tregexpu [-c | --code] [snippet ...]',\n\t\t\t\t'\\tregexpu [-f | --file] [file ...]',\n\t\t\t\t'\\tregexpu [-v | --version]',\n\t\t\t\t'\\tregexpu [-h | --help]',\n\t\t\t\t'\\nExamples:\\n',\n\t\t\t\t'\\tregexpu -f foo-es6.js > foo-es5.js',\n\t\t\t\t'\\tregexpu -c \\'var x = /foo.bar/u;\\'',\n\t\t\t\t'\\techo \\'var x = /foo.bar/u;\\' | regexpu -c'\n\t\t\t].join('\\n'));\n\t\t\treturn process.exit(1);\n\t\t}\n\n\t\tif (/^(?:-v|--version)$/.test(option)) {\n\t\t\tlog('v%s', regexpu.version);\n\t\t\treturn process.exit(1);\n\t\t}\n\n\t\tif (/^(?:-f|--file)$/.test(option)) {\n\t\t\tisFile = true;\n\t\t} else if (!/^(?:-c|--code)$/.test(option)) {\n\t\t\tlog('Unrecognized option `%s`.', option);\n\t\t\tlog('Try `regexpu --help` for more information.');\n\t\t\treturn process.exit(1);\n\t\t}\n\n\t\tif (!strings.length) {\n\t\t\tlog('Error: option `%s` requires an argument.', option);\n\t\t\tlog('Try `regexpu --help` for more information.');\n\t\t\treturn process.exit(1);\n\t\t}\n\n\t\tstrings.forEach(function(snippet) {\n\t\t\tvar result;\n\t\t\tif (isFile) {\n\t\t\t\ttry {\n\t\t\t\t\tsnippet = fs.readFileSync(snippet, 'utf8');\n\t\t\t\t} catch (exception) {\n\t\t\t\t\tlog('Error: no such file. (`%s`)', snippet);\n\t\t\t\t\treturn process.exit(1);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tresult = regexpu.transpileCode(snippet);\n\t\t\t\tlog(result);\n\t\t\t} catch (exception) {\n\t\t\t\tlog(exception.message + '\\n');\n\t\t\t\tlog('Error: failed to transpile. Make sure the JavaScript code is valid.');\n\t\t\t\tlog('If you think this is a bug in regexpu, please report it:');\n\t\t\t\tlog('https://github.com/mathiasbynens/regexpu/issues/new');\n\t\t\t\tlog('\\nStack trace using regexpu@%s:\\n', regexpu.version);\n\t\t\t\tlog(exception.stack);\n\t\t\t\treturn process.exit(1);\n\t\t\t}\n\t\t});\n\t\t// Return with exit status 0 outside of the `forEach` loop, in case\n\t\t// multiple snippets or files were passed in.\n\t\treturn process.exit(0);\n\t};\n\n\tif (stdin.isTTY) {\n\t\t// handle shell arguments\n\t\tmain();\n\t} else {\n\t\t// Either the script is called from within a non-TTY context, or `stdin`\n\t\t// content is being piped in.\n\t\tif (!process.stdout.isTTY) {\n\t\t\t// The script was called from a non-TTY context. This is a rather uncommon\n\t\t\t// use case we don’t actively support. However, we don’t want the script\n\t\t\t// to wait forever in such cases, so…\n\t\t\ttimeout = setTimeout(function() {\n\t\t\t\t// …if no piped data arrived after a whole minute, handle shell\n\t\t\t\t// arguments instead.\n\t\t\t\tmain();\n\t\t\t}, 60000);\n\t\t}\n\t\tdata = '';\n\t\tstdin.on('data', function(chunk) {\n\t\t\tclearTimeout(timeout);\n\t\t\tdata += chunk;\n\t\t});\n\t\tstdin.on('end', function() {\n\t\t\tstrings.push(data.trim());\n\t\t\tmain();\n\t\t});\n\t\tstdin.resume();\n\t}\n\n}());\n"]}