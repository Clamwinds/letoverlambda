{"version":3,"sources":["generateId.js"],"names":[],"mappings":"AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,YAAY,EAAE;IACvC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;IACnC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC;IACxB,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,EAAE,CAC5B;;AAEH,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEhB,SAAS,GAAG,CAAC,GAAG,EAAE;AAChB,MAAG,GAAG,EAAE;AACN,WAAO,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;GACxB;CACF;;AAED,SAAS,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE;;AAElC,OAAK,CAAC,SAAS,CAAC,CACZ,UAAS,EAAE,EAAE;AACX,WAAO,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;GAC5B,EACD,UAAS,GAAG,EAAE,EAAE,EAAE;AAChB,QAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,MAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;GACxB,CACJ,EAAE,QAAQ,CAAC,CAAC;CAEd;;AAED,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,EAAE,EAAE,CAAC,EAAE,EAAE;AACxB,YAAU,CAAC,EAAC,IAAI,EAAE,MAAM,GAAG,CAAC,EAAC,EAAE,GAAG,CAAC,CAAC;CACrC","file":"generateId-compiled.js","sourcesContent":["var redis = require('redis').createClient()\n  , shorten = require('shorten')(redis)\n  , async = require('async')\n  , db = require('./config').db\n  ;\n\ndb.bind('user');\n\nfunction log(err) {\n  if(err) {\n    console.log(err.stack);\n  }\n}\n\nfunction createUser(user, callback) {\n\n  async.waterfall([\n      function(fn) {\n        shorten.nextId('user', fn);\n      }\n    , function(uid, fn) {\n        user.uid = uid;\n        db.user.save(user, fn);\n      }\n  ], callback);\n\n}\n\nfor(var i = 0; i<10; i++) {\n  createUser({name: 'user' + i}, log);\n}\n"]}