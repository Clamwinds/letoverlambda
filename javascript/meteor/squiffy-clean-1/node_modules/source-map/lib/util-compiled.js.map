{"version":3,"sources":["util.js"],"names":[],"mappings":"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","file":"util-compiled.js","sourcesContent":["/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n{\n  /**\n   * This is a helper function for getting values from parameter/options\n   * objects.\n   *\n   * @param args The object we are extracting values from\n   * @param name The name of the property we are getting.\n   * @param defaultValue An optional value to return if the property is missing\n   * from the object. If this is not specified and the property is missing, an\n   * error will be thrown.\n   */\n  function getArg(aArgs, aName, aDefaultValue) {\n    if (aName in aArgs) {\n      return aArgs[aName];\n    } else if (arguments.length === 3) {\n      return aDefaultValue;\n    } else {\n      throw new Error('\"' + aName + '\" is a required argument.');\n    }\n  }\n  exports.getArg = getArg;\n\n  var urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\n  var dataUrlRegexp = /^data:.+\\,.+$/;\n\n  function urlParse(aUrl) {\n    var match = aUrl.match(urlRegexp);\n    if (!match) {\n      return null;\n    }\n    return {\n      scheme: match[1],\n      auth: match[2],\n      host: match[3],\n      port: match[4],\n      path: match[5]\n    };\n  }\n  exports.urlParse = urlParse;\n\n  function urlGenerate(aParsedUrl) {\n    var url = '';\n    if (aParsedUrl.scheme) {\n      url += aParsedUrl.scheme + ':';\n    }\n    url += '//';\n    if (aParsedUrl.auth) {\n      url += aParsedUrl.auth + '@';\n    }\n    if (aParsedUrl.host) {\n      url += aParsedUrl.host;\n    }\n    if (aParsedUrl.port) {\n      url += \":\" + aParsedUrl.port\n    }\n    if (aParsedUrl.path) {\n      url += aParsedUrl.path;\n    }\n    return url;\n  }\n  exports.urlGenerate = urlGenerate;\n\n  /**\n   * Normalizes a path, or the path portion of a URL:\n   *\n   * - Replaces consequtive slashes with one slash.\n   * - Removes unnecessary '.' parts.\n   * - Removes unnecessary '<dir>/..' parts.\n   *\n   * Based on code in the Node.js 'path' core module.\n   *\n   * @param aPath The path or url to normalize.\n   */\n  function normalize(aPath) {\n    var path = aPath;\n    var url = urlParse(aPath);\n    if (url) {\n      if (!url.path) {\n        return aPath;\n      }\n      path = url.path;\n    }\n    var isAbsolute = exports.isAbsolute(path);\n\n    var parts = path.split(/\\/+/);\n    for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n      part = parts[i];\n      if (part === '.') {\n        parts.splice(i, 1);\n      } else if (part === '..') {\n        up++;\n      } else if (up > 0) {\n        if (part === '') {\n          // The first part is blank if the path is absolute. Trying to go\n          // above the root is a no-op. Therefore we can remove all '..' parts\n          // directly after the root.\n          parts.splice(i + 1, up);\n          up = 0;\n        } else {\n          parts.splice(i, 2);\n          up--;\n        }\n      }\n    }\n    path = parts.join('/');\n\n    if (path === '') {\n      path = isAbsolute ? '/' : '.';\n    }\n\n    if (url) {\n      url.path = path;\n      return urlGenerate(url);\n    }\n    return path;\n  }\n  exports.normalize = normalize;\n\n  /**\n   * Joins two paths/URLs.\n   *\n   * @param aRoot The root path or URL.\n   * @param aPath The path or URL to be joined with the root.\n   *\n   * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n   *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n   *   first.\n   * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n   *   is updated with the result and aRoot is returned. Otherwise the result\n   *   is returned.\n   *   - If aPath is absolute, the result is aPath.\n   *   - Otherwise the two paths are joined with a slash.\n   * - Joining for example 'http://' and 'www.example.com' is also supported.\n   */\n  function join(aRoot, aPath) {\n    if (aRoot === \"\") {\n      aRoot = \".\";\n    }\n    if (aPath === \"\") {\n      aPath = \".\";\n    }\n    var aPathUrl = urlParse(aPath);\n    var aRootUrl = urlParse(aRoot);\n    if (aRootUrl) {\n      aRoot = aRootUrl.path || '/';\n    }\n\n    // `join(foo, '//www.example.org')`\n    if (aPathUrl && !aPathUrl.scheme) {\n      if (aRootUrl) {\n        aPathUrl.scheme = aRootUrl.scheme;\n      }\n      return urlGenerate(aPathUrl);\n    }\n\n    if (aPathUrl || aPath.match(dataUrlRegexp)) {\n      return aPath;\n    }\n\n    // `join('http://', 'www.example.com')`\n    if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n      aRootUrl.host = aPath;\n      return urlGenerate(aRootUrl);\n    }\n\n    var joined = aPath.charAt(0) === '/'\n      ? aPath\n      : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n    if (aRootUrl) {\n      aRootUrl.path = joined;\n      return urlGenerate(aRootUrl);\n    }\n    return joined;\n  }\n  exports.join = join;\n\n  exports.isAbsolute = function (aPath) {\n    return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n  };\n\n  /**\n   * Make a path relative to a URL or another path.\n   *\n   * @param aRoot The root path or URL.\n   * @param aPath The path or URL to be made relative to aRoot.\n   */\n  function relative(aRoot, aPath) {\n    if (aRoot === \"\") {\n      aRoot = \".\";\n    }\n\n    aRoot = aRoot.replace(/\\/$/, '');\n\n    // It is possible for the path to be above the root. In this case, simply\n    // checking whether the root is a prefix of the path won't work. Instead, we\n    // need to remove components from the root one by one, until either we find\n    // a prefix that fits, or we run out of components to remove.\n    var level = 0;\n    while (aPath.indexOf(aRoot + '/') !== 0) {\n      var index = aRoot.lastIndexOf(\"/\");\n      if (index < 0) {\n        return aPath;\n      }\n\n      // If the only part of the root that is left is the scheme (i.e. http://,\n      // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n      // have exhausted all components, so the path is not relative to the root.\n      aRoot = aRoot.slice(0, index);\n      if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n        return aPath;\n      }\n\n      ++level;\n    }\n\n    // Make sure we add a \"../\" for each component we removed from the root.\n    return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n  }\n  exports.relative = relative;\n\n  /**\n   * Because behavior goes wacky when you set `__proto__` on objects, we\n   * have to prefix all the strings in our set with an arbitrary character.\n   *\n   * See https://github.com/mozilla/source-map/pull/31 and\n   * https://github.com/mozilla/source-map/issues/30\n   *\n   * @param String aStr\n   */\n  function toSetString(aStr) {\n    return '$' + aStr;\n  }\n  exports.toSetString = toSetString;\n\n  function fromSetString(aStr) {\n    return aStr.substr(1);\n  }\n  exports.fromSetString = fromSetString;\n\n  /**\n   * Comparator between two mappings where the original positions are compared.\n   *\n   * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n   * mappings with the same original source/line/column, but different generated\n   * line and column the same. Useful when searching for a mapping with a\n   * stubbed out mapping.\n   */\n  function compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n    var cmp = mappingA.source - mappingB.source;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalLine - mappingB.originalLine;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalColumn - mappingB.originalColumn;\n    if (cmp !== 0 || onlyCompareOriginal) {\n      return cmp;\n    }\n\n    cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.generatedLine - mappingB.generatedLine;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    return mappingA.name - mappingB.name;\n  }\n  exports.compareByOriginalPositions = compareByOriginalPositions;\n\n  /**\n   * Comparator between two mappings with deflated source and name indices where\n   * the generated positions are compared.\n   *\n   * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n   * mappings with the same generated line and column, but different\n   * source/name/original line and column the same. Useful when searching for a\n   * mapping with a stubbed out mapping.\n   */\n  function compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n    var cmp = mappingA.generatedLine - mappingB.generatedLine;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n    if (cmp !== 0 || onlyCompareGenerated) {\n      return cmp;\n    }\n\n    cmp = mappingA.source - mappingB.source;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalLine - mappingB.originalLine;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalColumn - mappingB.originalColumn;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    return mappingA.name - mappingB.name;\n  }\n  exports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\n  function strcmp(aStr1, aStr2) {\n    if (aStr1 === aStr2) {\n      return 0;\n    }\n\n    if (aStr1 > aStr2) {\n      return 1;\n    }\n\n    return -1;\n  }\n\n  /**\n   * Comparator between two mappings with inflated source and name strings where\n   * the generated positions are compared.\n   */\n  function compareByGeneratedPositionsInflated(mappingA, mappingB) {\n    var cmp = mappingA.generatedLine - mappingB.generatedLine;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = strcmp(mappingA.source, mappingB.source);\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalLine - mappingB.originalLine;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalColumn - mappingB.originalColumn;\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    return strcmp(mappingA.name, mappingB.name);\n  }\n  exports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n}\n"]}