;(function () {
  'use strict';

  var klass = require('klass');

  var TimeSheetCore = klass(function(clientId, clientSecret) {
    this._clientId = clientId;
    this._clientSecret = clientSecret;
    ['auth'].forEach(
      function(name) {
        this.add(name);
      }.bind(this)
    )
  })
    .methods({
      add: function add(name) {
        var Core = require(__dirname + '/lib/' + name);
        var core = new Core;
        core.setConfig({
          client_id: this._clientId,
          client_secret: this._clientSecret
        });

        this[name] = core;
      }
    });

    module.exports = TimeSheetCore;
}());
