var expect = require('chai').expect;
var Base = require('../../lib/base');
var Auth = require('../../lib/auth');

describe('#lib', function() {

  describe('#auth', function() {

    it('should be exported object', function() {
      expect(Auth).to.be.an.instanceOf(Object);
    });

    it('should be able to create new object', function() {
      expect(new Auth).to.be.an.instanceOf(Auth);
    });

    it('should be extended from `Base` class', function() {
      expect(new Auth).to.be.an.instanceOf(Base);
    })

    describe('#methods', function() {

      var auth;
      before(function() {
        auth = new Auth;
      });

      describe('`getAuthorizeUrl`', function() {

        it('should exists', function() {
          expect(auth.getAuthorizeUrl).to.be.ok;
        });

        it('should return `authorize` url for redirect', function() {
          var _url = auth.getAuthorizeUrl();
          expect(_url).to.contains('https://rest.tsheets.com/api/v1/authorize?response_type=code&client_id=null&redirect_uri=&state=');
          
        });

      });
    })
  });
})
