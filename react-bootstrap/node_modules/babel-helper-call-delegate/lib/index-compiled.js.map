{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _babelHelperHoistVariables = require(\"babel-helper-hoist-variables\");\n\nvar _babelHelperHoistVariables2 = _interopRequireDefault(_babelHelperHoistVariables);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\n/*:: import type { NodePath } from \"babel-traverse\";*/\n\nvar visitor = {\n  enter: function enter(path, state) {\n    if (path.isThisExpression()) {\n      state.foundThis = true;\n    }\n\n    if (path.isReferencedIdentifier({ name: \"arguments\" })) {\n      state.foundArguments = true;\n    }\n  },\n\n  Function: function Function(path) {\n    path.skip();\n  }\n};\n\nexports[\"default\"] = function (path /*: NodePath*/) {\n  var scope = arguments.length <= 1 || arguments[1] === undefined ? path.scope : arguments[1];\n  return (function () {\n    var node = path.node;\n\n    var container = t.functionExpression(null, [], node.body, node.generator, node.async);\n\n    var callee = container;\n    var args = [];\n\n    // todo: only hoist if necessary\n    _babelHelperHoistVariables2[\"default\"](path, function (id) {\n      return scope.push({ id: id });\n    });\n\n    var state = {\n      foundThis: false,\n      foundArguments: false\n    };\n\n    path.traverse(visitor, state);\n\n    if (state.foundArguments) {\n      callee = t.memberExpression(container, t.identifier(\"apply\"));\n      args = [];\n\n      if (state.foundThis) {\n        args.push(t.thisExpression());\n      }\n\n      if (state.foundArguments) {\n        if (!state.foundThis) args.push(t.nullLiteral());\n        args.push(t.identifier(\"arguments\"));\n      }\n    }\n\n    var call = t.callExpression(callee, args);\n    if (node.generator) call = t.yieldExpression(call, true);\n\n    return t.returnStatement(call);\n  })();\n};\n\nmodule.exports = exports[\"default\"];"]}