{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/* @noflow */\n/* global BabelParserOptions */\n/* global BabelFileMetadata */\n/* global BabelFileResult */\n\n\"use strict\";\n\nvar _inherits = require(\"babel-runtime/helpers/inherits\")[\"default\"];\n\nvar _classCallCheck = require(\"babel-runtime/helpers/class-call-check\")[\"default\"];\n\nvar _getIterator = require(\"babel-runtime/core-js/get-iterator\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _babelHelpers = require(\"babel-helpers\");\n\nvar _babelHelpers2 = _interopRequireDefault(_babelHelpers);\n\nvar _metadata = require(\"./metadata\");\n\nvar metadataVisitor = _interopRequireWildcard(_metadata);\n\nvar _convertSourceMap = require(\"convert-source-map\");\n\nvar _convertSourceMap2 = _interopRequireDefault(_convertSourceMap);\n\nvar _optionsOptionManager = require(\"./options/option-manager\");\n\nvar _optionsOptionManager2 = _interopRequireDefault(_optionsOptionManager);\n\nvar _pluginPass = require(\"../plugin-pass\");\n\nvar _pluginPass2 = _interopRequireDefault(_pluginPass);\n\nvar _shebangRegex = require(\"shebang-regex\");\n\nvar _shebangRegex2 = _interopRequireDefault(_shebangRegex);\n\nvar _babelTraverse = require(\"babel-traverse\");\n\nvar _sourceMap = require(\"source-map\");\n\nvar _sourceMap2 = _interopRequireDefault(_sourceMap);\n\nvar _babelGenerator = require(\"babel-generator\");\n\nvar _babelGenerator2 = _interopRequireDefault(_babelGenerator);\n\nvar _babelCodeFrame = require(\"babel-code-frame\");\n\nvar _babelCodeFrame2 = _interopRequireDefault(_babelCodeFrame);\n\nvar _lodashObjectDefaults = require(\"lodash/object/defaults\");\n\nvar _lodashObjectDefaults2 = _interopRequireDefault(_lodashObjectDefaults);\n\nvar _babelTraverse2 = _interopRequireDefault(_babelTraverse);\n\nvar _logger = require(\"./logger\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _store = require(\"../../store\");\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _babylon = require(\"babylon\");\n\nvar _util = require(\"../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _internalPluginsBlockHoist = require(\"../internal-plugins/block-hoist\");\n\nvar _internalPluginsBlockHoist2 = _interopRequireDefault(_internalPluginsBlockHoist);\n\nvar _internalPluginsShadowFunctions = require(\"../internal-plugins/shadow-functions\");\n\nvar _internalPluginsShadowFunctions2 = _interopRequireDefault(_internalPluginsShadowFunctions);\n\n/*:: import type Pipeline from \"../pipeline\";*/\n/*:: import type Plugin from \"../plugin\";*/\n\nvar INTERNAL_PLUGINS = [[_internalPluginsBlockHoist2[\"default\"]], [_internalPluginsShadowFunctions2[\"default\"]]];\n\nvar errorVisitor = {\n  enter: function enter(path, state) {\n    var loc = path.node.loc;\n    if (loc) {\n      state.loc = loc;\n      path.stop();\n    }\n  }\n};\n\nvar File = (function (_Store) {\n  _inherits(File, _Store);\n\n  function File(opts /*: Object*/, pipeline /*: Pipeline*/) {\n    if (opts === undefined) opts = {};\n\n    _classCallCheck(this, File);\n\n    _Store.call(this);\n\n    this.pipeline = pipeline;\n\n    this.log = new _logger2[\"default\"](this, opts.filename || \"unknown\");\n    this.opts = this.initOptions(opts);\n\n    this.parserOpts = {\n      highlightCode: this.opts.highlightCode,\n      nonStandard: this.opts.nonStandard,\n      sourceType: this.opts.sourceType,\n      filename: this.opts.filename,\n      plugins: []\n    };\n\n    this.pluginVisitors = [];\n    this.pluginPasses = [];\n    this.pluginStack = [];\n    this.buildPlugins();\n\n    this.metadata = {\n      usedHelpers: [],\n      marked: [],\n      modules: {\n        imports: [],\n        exports: {\n          exported: [],\n          specifiers: []\n        }\n      }\n    };\n\n    this.dynamicImportTypes = {};\n    this.dynamicImportIds = {};\n    this.dynamicImports = [];\n    this.declarations = {};\n    this.usedHelpers = {};\n\n    this.path = null;\n    this.ast = {};\n\n    this.code = \"\";\n    this.shebang = \"\";\n\n    this.hub = new _babelTraverse.Hub(this);\n  }\n\n  File.prototype.getMetadata = function getMetadata() {\n    var has = false;\n    for (var _iterator = (this.ast.program.body /*: Array<Object>*/), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _getIterator(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var node = _ref;\n\n      if (t.isModuleDeclaration(node)) {\n        has = true;\n        break;\n      }\n    }\n    if (has) {\n      this.path.traverse(metadataVisitor, this);\n    }\n  };\n\n  File.prototype.initOptions = function initOptions(opts) {\n    opts = new _optionsOptionManager2[\"default\"](this.log, this.pipeline).init(opts);\n\n    if (opts.inputSourceMap) {\n      opts.sourceMaps = true;\n    }\n\n    if (opts.moduleId) {\n      opts.moduleIds = true;\n    }\n\n    opts.basename = _path2[\"default\"].basename(opts.filename, _path2[\"default\"].extname(opts.filename));\n\n    opts.ignore = util.arrayify(opts.ignore, util.regexify);\n\n    if (opts.only) opts.only = util.arrayify(opts.only, util.regexify);\n\n    _lodashObjectDefaults2[\"default\"](opts, {\n      moduleRoot: opts.sourceRoot\n    });\n\n    _lodashObjectDefaults2[\"default\"](opts, {\n      sourceRoot: opts.moduleRoot\n    });\n\n    _lodashObjectDefaults2[\"default\"](opts, {\n      filenameRelative: opts.filename\n    });\n\n    var basenameRelative = _path2[\"default\"].basename(opts.filenameRelative);\n\n    _lodashObjectDefaults2[\"default\"](opts, {\n      sourceFileName: basenameRelative,\n      sourceMapTarget: basenameRelative\n    });\n\n    return opts;\n  };\n\n  File.prototype.buildPlugins = function buildPlugins() {\n    var plugins /*: Array<[PluginPass, Object]>*/ = this.opts.plugins.concat(INTERNAL_PLUGINS);\n\n    // init plugins!\n    for (var _iterator2 = plugins, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _getIterator(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var ref = _ref2;\n      var plugin = ref[0];\n      var pluginOpts = ref[1];\n      // todo: fix - can't embed in loop head because of flow bug\n\n      this.pluginStack.push(plugin);\n      this.pluginVisitors.push(plugin.visitor);\n      this.pluginPasses.push(new _pluginPass2[\"default\"](this, plugin, pluginOpts));\n\n      if (plugin.manipulateOptions) {\n        plugin.manipulateOptions(this.opts, this.parserOpts, this);\n      }\n    }\n  };\n\n  File.prototype.getModuleName = function getModuleName() /*: ?string*/ {\n    var opts = this.opts;\n    if (!opts.moduleIds) {\n      return null;\n    }\n\n    // moduleId is n/a if a `getModuleId()` is provided\n    if (opts.moduleId != null && !opts.getModuleId) {\n      return opts.moduleId;\n    }\n\n    var filenameRelative = opts.filenameRelative;\n    var moduleName = \"\";\n\n    if (opts.moduleRoot != null) {\n      moduleName = opts.moduleRoot + \"/\";\n    }\n\n    if (!opts.filenameRelative) {\n      return moduleName + opts.filename.replace(/^\\//, \"\");\n    }\n\n    if (opts.sourceRoot != null) {\n      // remove sourceRoot from filename\n      var sourceRootRegEx = new RegExp(\"^\" + opts.sourceRoot + \"\\/?\");\n      filenameRelative = filenameRelative.replace(sourceRootRegEx, \"\");\n    }\n\n    // remove extension\n    filenameRelative = filenameRelative.replace(/\\.(\\w*?)$/, \"\");\n\n    moduleName += filenameRelative;\n\n    // normalize path separators\n    moduleName = moduleName.replace(/\\\\/g, \"/\");\n\n    if (opts.getModuleId) {\n      // If return is falsy, assume they want us to use our generated default name\n      return opts.getModuleId(moduleName) || moduleName;\n    } else {\n      return moduleName;\n    }\n  };\n\n  File.prototype.resolveModuleSource = function resolveModuleSource(source /*: string*/) /*: string*/ {\n    var resolveModuleSource = this.opts.resolveModuleSource;\n    if (resolveModuleSource) source = resolveModuleSource(source, this.opts.filename);\n    return source;\n  };\n\n  File.prototype.addImport = function addImport(source /*: string*/, imported /*: string*/) /*: Object*/ {\n    var name /*:: ?: string*/ = arguments.length <= 2 || arguments[2] === undefined ? imported : arguments[2];\n    return (function () {\n      var alias = source + \":\" + imported;\n      var id = this.dynamicImportIds[alias];\n\n      if (!id) {\n        source = this.resolveModuleSource(source);\n        id = this.dynamicImportIds[alias] = this.scope.generateUidIdentifier(name);\n\n        var specifiers = [];\n\n        if (imported === \"*\") {\n          specifiers.push(t.importNamespaceSpecifier(id));\n        } else if (imported === \"default\") {\n          specifiers.push(t.importDefaultSpecifier(id));\n        } else {\n          specifiers.push(t.importSpecifier(id, t.identifier(imported)));\n        }\n\n        var declar = t.importDeclaration(specifiers, t.stringLiteral(source));\n        declar._blockHoist = 3;\n\n        this.path.unshiftContainer(\"body\", declar);\n      }\n\n      return id;\n    }).apply(this, arguments);\n  };\n\n  File.prototype.addHelper = function addHelper(name /*: string*/) /*: Object*/ {\n    var declar = this.declarations[name];\n    if (declar) return declar;\n\n    if (!this.usedHelpers[name]) {\n      this.metadata.usedHelpers.push(name);\n      this.usedHelpers[name] = true;\n    }\n\n    var generator = this.get(\"helperGenerator\");\n    var runtime = this.get(\"helpersNamespace\");\n    if (generator) {\n      var res = generator(name);\n      if (res) return res;\n    } else if (runtime) {\n      return t.memberExpression(runtime, t.identifier(name));\n    }\n\n    var ref = _babelHelpers2[\"default\"](name);\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(name);\n\n    if (t.isFunctionExpression(ref) && !ref.id) {\n      ref.body._compact = true;\n      ref._generated = true;\n      ref.id = uid;\n      ref.type = \"FunctionDeclaration\";\n      this.path.unshiftContainer(\"body\", ref);\n    } else {\n      ref._compact = true;\n      this.scope.push({\n        id: uid,\n        init: ref,\n        unique: true\n      });\n    }\n\n    return uid;\n  };\n\n  File.prototype.addTemplateObject = function addTemplateObject(helperName /*: string*/, strings /*: Array<Object>*/, raw /*: Object*/) /*: Object*/ {\n    // Generate a unique name based on the string literals so we dedupe\n    // identical strings used in the program.\n    var stringIds = raw.elements.map(function (string) {\n      return string.value;\n    });\n    var name = helperName + \"_\" + raw.elements.length + \"_\" + stringIds.join(\",\");\n\n    var declar = this.declarations[name];\n    if (declar) return declar;\n\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(\"templateObject\");\n\n    var helperId = this.addHelper(helperName);\n    var init = t.callExpression(helperId, [strings, raw]);\n    init._compact = true;\n    this.scope.push({\n      id: uid,\n      init: init,\n      _blockHoist: 1.9 // This ensures that we don't fail if not using function expression helpers\n    });\n    return uid;\n  };\n\n  File.prototype.buildCodeFrameError = function buildCodeFrameError(node /*: Object*/, msg /*: string*/) /*: Error*/ {\n    var Error /*: typeof Error*/ = arguments.length <= 2 || arguments[2] === undefined ? SyntaxError : arguments[2];\n\n    var loc = node && (node.loc || node._loc);\n\n    var err = new Error(msg);\n\n    if (loc) {\n      err.loc = loc.start;\n    } else {\n      _babelTraverse2[\"default\"](node, errorVisitor, this.scope, err);\n\n      err.message += \" (This is an error on an internal node. Probably an internal error\";\n\n      if (err.loc) {\n        err.message += \". Location has been estimated.\";\n      }\n\n      err.message += \")\";\n    }\n\n    return err;\n  };\n\n  File.prototype.mergeSourceMap = function mergeSourceMap(map /*: Object*/) {\n    var inputMap = this.opts.inputSourceMap;\n\n    if (inputMap) {\n      var _ret = (function () {\n        var inputMapConsumer = new _sourceMap2[\"default\"].SourceMapConsumer(inputMap);\n        var outputMapConsumer = new _sourceMap2[\"default\"].SourceMapConsumer(map);\n\n        var mergedGenerator = new _sourceMap2[\"default\"].SourceMapGenerator({\n          file: inputMapConsumer.file,\n          sourceRoot: inputMapConsumer.sourceRoot\n        });\n\n        // This assumes the output map always has a single source, since Babel always compiles a single source file to a\n        // single output file.\n        var source = outputMapConsumer.sources[0];\n\n        inputMapConsumer.eachMapping(function (mapping) {\n          var generatedPosition = outputMapConsumer.generatedPositionFor({\n            line: mapping.generatedLine,\n            column: mapping.generatedColumn,\n            source: source\n          });\n          if (generatedPosition.column != null) {\n            mergedGenerator.addMapping({\n              source: mapping.source,\n\n              original: {\n                line: mapping.originalLine,\n                column: mapping.originalColumn\n              },\n\n              generated: generatedPosition\n            });\n          }\n        });\n\n        var mergedMap = mergedGenerator.toJSON();\n        inputMap.mappings = mergedMap.mappings;\n        return {\n          v: inputMap\n        };\n      })();\n\n      // istanbul ignore next\n      if (typeof _ret === \"object\") return _ret.v;\n    } else {\n      return map;\n    }\n  };\n\n  File.prototype.parse = function parse(code /*: string*/) {\n    this.log.debug(\"Parse start\");\n    var ast = _babylon.parse(code, this.parserOpts);\n    this.log.debug(\"Parse stop\");\n    return ast;\n  };\n\n  File.prototype._addAst = function _addAst(ast) {\n    this.path = _babelTraverse.NodePath.get({\n      hub: this.hub,\n      parentPath: null,\n      parent: ast,\n      container: ast,\n      key: \"program\"\n    }).setContext();\n    this.scope = this.path.scope;\n    this.ast = ast;\n    this.getMetadata();\n  };\n\n  File.prototype.addAst = function addAst(ast) {\n    this.log.debug(\"Start set AST\");\n    this._addAst(ast);\n    this.log.debug(\"End set AST\");\n  };\n\n  File.prototype.transform = function transform() /*: BabelFileResult*/ {\n    this.call(\"pre\");\n    this.log.debug(\"Start transform traverse\");\n    _babelTraverse2[\"default\"](this.ast, _babelTraverse2[\"default\"].visitors.merge(this.pluginVisitors, this.pluginPasses), this.scope);\n    this.log.debug(\"End transform traverse\");\n    this.call(\"post\");\n    return this.generate();\n  };\n\n  File.prototype.wrap = function wrap(code /*: string*/, callback /*: Function*/) /*: BabelFileResult*/ {\n    code = code + \"\";\n\n    try {\n      if (this.shouldIgnore()) {\n        return this.makeResult({ code: code, ignored: true });\n      } else {\n        return callback();\n      }\n    } catch (err) {\n      if (err._babel) {\n        throw err;\n      } else {\n        err._babel = true;\n      }\n\n      var message = err.message = this.opts.filename + \": \" + err.message;\n\n      var loc = err.loc;\n      if (loc) {\n        err.codeFrame = _babelCodeFrame2[\"default\"](code, loc.line, loc.column + 1, this.opts);\n        message += \"\\n\" + err.codeFrame;\n      }\n\n      if (process.browser) {\n        // chrome has it's own pretty stringifier which doesn't use the stack property\n        // https://github.com/babel/babel/issues/2175\n        err.message = message;\n      }\n\n      if (err.stack) {\n        var newStack = err.stack.replace(err.message, message);\n        err.stack = newStack;\n      }\n\n      throw err;\n    }\n  };\n\n  File.prototype.addCode = function addCode(code /*: string*/) {\n    code = (code || \"\") + \"\";\n    code = this.parseInputSourceMap(code);\n    this.code = code;\n  };\n\n  File.prototype.parseCode = function parseCode() {\n    this.parseShebang();\n    var ast = this.parse(this.code);\n    this.addAst(ast);\n  };\n\n  File.prototype.shouldIgnore = function shouldIgnore() {\n    var opts = this.opts;\n    return util.shouldIgnore(opts.filename, opts.ignore, opts.only);\n  };\n\n  File.prototype.call = function call(key /*: \"pre\" | \"post\"*/) {\n    for (var _iterator3 = (this.pluginPasses /*: Array<PluginPass>*/), _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _getIterator(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var pass = _ref3;\n\n      var plugin = pass.plugin;\n      var fn = plugin[key];\n      if (fn) fn.call(pass, this);\n    }\n  };\n\n  File.prototype.parseInputSourceMap = function parseInputSourceMap(code /*: string*/) /*: string*/ {\n    var opts = this.opts;\n\n    if (opts.inputSourceMap !== false) {\n      var inputMap = _convertSourceMap2[\"default\"].fromSource(code);\n      if (inputMap) {\n        opts.inputSourceMap = inputMap.toObject();\n        code = _convertSourceMap2[\"default\"].removeComments(code);\n      }\n    }\n\n    return code;\n  };\n\n  File.prototype.parseShebang = function parseShebang() {\n    var shebangMatch = _shebangRegex2[\"default\"].exec(this.code);\n    if (shebangMatch) {\n      this.shebang = shebangMatch[0];\n      this.code = this.code.replace(_shebangRegex2[\"default\"], \"\");\n    }\n  };\n\n  File.prototype.makeResult = function makeResult(_ref4 /*: BabelFileResult*/) /*: BabelFileResult*/ {\n    var code = _ref4.code;\n    var map = _ref4.map;\n    var ast = _ref4.ast;\n    var ignored = _ref4.ignored;\n\n    var result = {\n      metadata: null,\n      options: this.opts,\n      ignored: !!ignored,\n      code: null,\n      ast: null,\n      map: map || null\n    };\n\n    if (this.opts.code) {\n      result.code = code;\n    }\n\n    if (this.opts.ast) {\n      result.ast = ast;\n    }\n\n    if (this.opts.metadata) {\n      result.metadata = this.metadata;\n    }\n\n    return result;\n  };\n\n  File.prototype.generate = function generate() /*: BabelFileResult*/ {\n    var opts = this.opts;\n    var ast = this.ast;\n\n    var result /*: BabelFileResult*/ = { ast: ast };\n    if (!opts.code) return this.makeResult(result);\n\n    this.log.debug(\"Generation start\");\n\n    var _result = _babelGenerator2[\"default\"](ast, opts, this.code);\n    result.code = _result.code;\n    result.map = _result.map;\n\n    this.log.debug(\"Generation end\");\n\n    if (this.shebang) {\n      // add back shebang\n      result.code = this.shebang + \"\\n\" + result.code;\n    }\n\n    if (result.map) {\n      result.map = this.mergeSourceMap(result.map);\n    }\n\n    if (opts.sourceMaps === \"inline\" || opts.sourceMaps === \"both\") {\n      result.code += \"\\n\" + _convertSourceMap2[\"default\"].fromObject(result.map).toComment();\n    }\n\n    if (opts.sourceMaps === \"inline\") {\n      result.map = null;\n    }\n\n    return this.makeResult(result);\n  };\n\n  return File;\n})(_store2[\"default\"]);\n\nexports[\"default\"] = File;\nexports.File = File;"]}