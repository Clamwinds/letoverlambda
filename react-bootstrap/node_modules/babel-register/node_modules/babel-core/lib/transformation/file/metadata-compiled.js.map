{"version":3,"sources":["metadata.js"],"names":[],"mappings":"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","file":"metadata-compiled.js","sourcesContent":["\"use strict\";\n\nvar _getIterator = require(\"babel-runtime/core-js/get-iterator\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\nexports.ExportDeclaration = ExportDeclaration;\nexports.Scope = Scope;\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar ModuleDeclaration = {\n  enter: function enter(path, file) {\n    var node = path.node;\n\n    if (node.source) {\n      node.source.value = file.resolveModuleSource(node.source.value);\n    }\n  }\n};\n\nexports.ModuleDeclaration = ModuleDeclaration;\nvar ImportDeclaration = {\n  exit: function exit(path, file) {\n    var node = path.node;\n\n    var specifiers = [];\n    var imported = [];\n    file.metadata.modules.imports.push({\n      source: node.source.value,\n      imported: imported,\n      specifiers: specifiers\n    });\n\n    for (var _iterator = (path.get(\"specifiers\") /*: Array<Object>*/), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _getIterator(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var specifier = _ref;\n\n      var local = specifier.node.local.name;\n\n      if (specifier.isImportDefaultSpecifier()) {\n        imported.push(\"default\");\n        specifiers.push({\n          kind: \"named\",\n          imported: \"default\",\n          local: local\n        });\n      }\n\n      if (specifier.isImportSpecifier()) {\n        var importedName = specifier.node.imported.name;\n        imported.push(importedName);\n        specifiers.push({\n          kind: \"named\",\n          imported: importedName,\n          local: local\n        });\n      }\n\n      if (specifier.isImportNamespaceSpecifier()) {\n        imported.push(\"*\");\n        specifiers.push({\n          kind: \"namespace\",\n          local: local\n        });\n      }\n    }\n  }\n};\n\nexports.ImportDeclaration = ImportDeclaration;\n\nfunction ExportDeclaration(path, file) {\n  var node = path.node;\n\n  var source = node.source ? node.source.value : null;\n  var exports = file.metadata.modules.exports;\n\n  // export function foo() {}\n  // export let foo = \"bar\";\n  var declar = path.get(\"declaration\");\n  if (declar.isStatement()) {\n    var bindings = declar.getBindingIdentifiers();\n\n    for (var _name in bindings) {\n      exports.exported.push(_name);\n      exports.specifiers.push({\n        kind: \"local\",\n        local: _name,\n        exported: path.isExportDefaultDeclaration() ? \"default\" : _name\n      });\n    }\n  }\n\n  if (path.isExportNamedDeclaration() && node.specifiers) {\n    for (var _iterator2 = (node.specifiers /*: Array<Object>*/), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _getIterator(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var specifier = _ref2;\n\n      var exported = specifier.exported.name;\n      exports.exported.push(exported);\n\n      // export foo from \"bar\";\n      if (t.isExportDefaultSpecifier(specifier)) {\n        exports.specifiers.push({\n          kind: \"external\",\n          local: exported,\n          exported: exported,\n          source: source\n        });\n      }\n\n      // export * as foo from \"bar\";\n      if (t.isExportNamespaceSpecifier(specifier)) {\n        exports.specifiers.push({\n          kind: \"external-namespace\",\n          exported: exported,\n          source: source\n        });\n      }\n\n      var local = specifier.local;\n      if (!local) continue;\n\n      // export { foo } from \"bar\";\n      // export { foo as bar } from \"bar\";\n      if (source) {\n        exports.specifiers.push({\n          kind: \"external\",\n          local: local.name,\n          exported: exported,\n          source: source\n        });\n      }\n\n      // export { foo };\n      // export { foo as bar };\n      if (!source) {\n        exports.specifiers.push({\n          kind: \"local\",\n          local: local.name,\n          exported: exported\n        });\n      }\n    }\n  }\n\n  // export * from \"bar\";\n  if (path.isExportAllDeclaration()) {\n    exports.specifiers.push({\n      kind: \"external-all\",\n      source: source\n    });\n  }\n}\n\nfunction Scope(path) {\n  path.skip();\n}"]}