{"version":3,"sources":["base64-vlq.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,IAAI,OAAO,MAAM,KAAK,UAAU,EAAE;AAC9B,MAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;CACrD;AACD,MAAM,CAAC,UAAU,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;;AAEzC,MAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC;;;;;;;;;;;;;;AAAC,AAcjC,MAAI,cAAc,GAAG,CAAC;;;AAAC,AAGvB,MAAI,QAAQ,GAAG,CAAC,IAAI,cAAc;;;AAAC,AAGnC,MAAI,aAAa,GAAG,QAAQ,GAAG,CAAC;;;AAAC,AAGjC,MAAI,oBAAoB,GAAG,QAAQ;;;;;;;;AAAC,AAQpC,WAAS,WAAW,CAAC,MAAM,EAAE;AAC3B,WAAO,MAAM,GAAG,CAAC,GACb,CAAC,AAAC,CAAC,MAAM,IAAK,CAAC,CAAA,GAAI,CAAC,GACpB,CAAC,MAAM,IAAI,CAAC,CAAA,GAAI,CAAC,CAAC;GACvB;;;;;;;;AAAA,AAQD,WAAS,aAAa,CAAC,MAAM,EAAE;AAC7B,QAAI,UAAU,GAAG,CAAC,MAAM,GAAG,CAAC,CAAA,KAAM,CAAC,CAAC;AACpC,QAAI,OAAO,GAAG,MAAM,IAAI,CAAC,CAAC;AAC1B,WAAO,UAAU,GACb,CAAC,OAAO,GACR,OAAO,CAAC;GACb;;;;;AAAA,AAKD,SAAO,CAAC,MAAM,GAAG,SAAS,gBAAgB,CAAC,MAAM,EAAE;AACjD,QAAI,OAAO,GAAG,EAAE,CAAC;AACjB,QAAI,KAAK,CAAC;;AAEV,QAAI,GAAG,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC;;AAE9B,OAAG;AACD,WAAK,GAAG,GAAG,GAAG,aAAa,CAAC;AAC5B,SAAG,MAAM,cAAc,CAAC;AACxB,UAAI,GAAG,GAAG,CAAC,EAAE;;;AAGX,aAAK,IAAI,oBAAoB,CAAC;OAC/B;AACD,aAAO,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KACjC,QAAQ,GAAG,GAAG,CAAC,EAAE;;AAElB,WAAO,OAAO,CAAC;GAChB;;;;;;AAAC,AAMF,SAAO,CAAC,MAAM,GAAG,SAAS,gBAAgB,CAAC,IAAI,EAAE;AAC/C,QAAI,CAAC,GAAG,CAAC,CAAC;AACV,QAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AACzB,QAAI,MAAM,GAAG,CAAC,CAAC;AACf,QAAI,KAAK,GAAG,CAAC,CAAC;AACd,QAAI,YAAY,EAAE,KAAK,CAAC;;AAExB,OAAG;AACD,UAAI,CAAC,IAAI,MAAM,EAAE;AACf,cAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;OAC/D;AACD,WAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACxC,kBAAY,GAAG,CAAC,EAAE,KAAK,GAAG,oBAAoB,CAAA,AAAC,CAAC;AAChD,WAAK,IAAI,aAAa,CAAC;AACvB,YAAM,GAAG,MAAM,IAAI,KAAK,IAAI,KAAK,CAAA,AAAC,CAAC;AACnC,WAAK,IAAI,cAAc,CAAC;KACzB,QAAQ,YAAY,EAAE;;AAEvB,WAAO;AACL,WAAK,EAAE,aAAa,CAAC,MAAM,CAAC;AAC5B,UAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;KACpB,CAAC;GACH,CAAC;CAEH,CAAC,CAAC","file":"base64-vlq-compiled.js","sourcesContent":["/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nif (typeof define !== 'function') {\n    var define = require('amdefine')(module, require);\n}\ndefine(function (require, exports, module) {\n\n  var base64 = require('./base64');\n\n  // A single base 64 digit can contain 6 bits of data. For the base 64 variable\n  // length quantities we use in the source map spec, the first bit is the sign,\n  // the next four bits are the actual value, and the 6th bit is the\n  // continuation bit. The continuation bit tells us whether there are more\n  // digits in this value following this digit.\n  //\n  //   Continuation\n  //   |    Sign\n  //   |    |\n  //   V    V\n  //   101011\n\n  var VLQ_BASE_SHIFT = 5;\n\n  // binary: 100000\n  var VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n  // binary: 011111\n  var VLQ_BASE_MASK = VLQ_BASE - 1;\n\n  // binary: 100000\n  var VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n  /**\n   * Converts from a two-complement value to a value where the sign bit is\n   * is placed in the least significant bit.  For example, as decimals:\n   *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n   *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n   */\n  function toVLQSigned(aValue) {\n    return aValue < 0\n      ? ((-aValue) << 1) + 1\n      : (aValue << 1) + 0;\n  }\n\n  /**\n   * Converts to a two-complement value from a value where the sign bit is\n   * is placed in the least significant bit.  For example, as decimals:\n   *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n   *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n   */\n  function fromVLQSigned(aValue) {\n    var isNegative = (aValue & 1) === 1;\n    var shifted = aValue >> 1;\n    return isNegative\n      ? -shifted\n      : shifted;\n  }\n\n  /**\n   * Returns the base 64 VLQ encoded value.\n   */\n  exports.encode = function base64VLQ_encode(aValue) {\n    var encoded = \"\";\n    var digit;\n\n    var vlq = toVLQSigned(aValue);\n\n    do {\n      digit = vlq & VLQ_BASE_MASK;\n      vlq >>>= VLQ_BASE_SHIFT;\n      if (vlq > 0) {\n        // There are still more digits in this value, so we must make sure the\n        // continuation bit is marked.\n        digit |= VLQ_CONTINUATION_BIT;\n      }\n      encoded += base64.encode(digit);\n    } while (vlq > 0);\n\n    return encoded;\n  };\n\n  /**\n   * Decodes the next base 64 VLQ value from the given string and returns the\n   * value and the rest of the string.\n   */\n  exports.decode = function base64VLQ_decode(aStr) {\n    var i = 0;\n    var strLen = aStr.length;\n    var result = 0;\n    var shift = 0;\n    var continuation, digit;\n\n    do {\n      if (i >= strLen) {\n        throw new Error(\"Expected more digits in base 64 VLQ value.\");\n      }\n      digit = base64.decode(aStr.charAt(i++));\n      continuation = !!(digit & VLQ_CONTINUATION_BIT);\n      digit &= VLQ_BASE_MASK;\n      result = result + (digit << shift);\n      shift += VLQ_BASE_SHIFT;\n    } while (continuation);\n\n    return {\n      value: fromVLQSigned(result),\n      rest: aStr.slice(i)\n    };\n  };\n\n});\n"]}